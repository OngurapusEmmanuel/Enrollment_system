<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment Form</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Enrollment Form</h1>
        <form action="submit_form.php" method="post" class="row g-3">
            <div class="col-md-6">
                <label for="sl_no" class="form-label">SL No:</label>
                <input type="text" id="sl_no" name="sl_no" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label for="name" class="form-label">Name:</label>
                <input type="text" id="name" name="name" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label for="parent_name" class="form-label">Father's/Mother's Name:</label>
                <input type="text" id="parent_name" name="parent_name" class="form-control" required>
            </div>

            <div class="col-md-3">
                <label for="age" class="form-label">Age:</label>
                <input type="number" id="age" name="age" class="form-control" required>
            </div>

            <div class="col-md-3">
                <label class="form-label">Sex:</label><br>
                <div class="form-check form-check-inline">
                    <input type="radio" id="male" name="sex" value="M" class="form-check-input" required>
                    <label for="male" class="form-check-label">Male</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" id="female" name="sex" value="F" class="form-check-input" required>
                    <label for="female" class="form-check-label">Female</label>
                </div>
            </div>

            <div class="col-md-6">
                <label for="education" class="form-label">Educational Qualification:</label>
                <input type="text" id="education" name="education" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label for="category" class="form-label">Category (SC/ST/Other):</label>
                <input type="text" id="category" name="category" class="form-control" required>
            </div>

            <div class="col-12">
                <label class="form-label">Types of Disabilities:</label><br>
                <div class="form-check form-check-inline">
                    <input type="checkbox" name="disabilities[]" value="CP" class="form-check-input" id="cp">
                    <label for="cp" class="form-check-label">C.P</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="checkbox" name="disabilities[]" value="Autism" class="form-check-input" id="autism">
                    <label for="autism" class="form-check-label">Autism</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="checkbox" name="disabilities[]" value="MR" class="form-check-input" id="mr">
                    <label for="mr" class="form-check-label">MR</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="checkbox" name="disabilities[]" value="MD" class="form-check-input" id="md">
                    <label for="md" class="form-check-label">MD</label>
                </div>
            </div>

            <div class="col-md-6">
                <label class="form-label">Disability Certificate:</label><br>
                <div class="form-check form-check-inline">
                    <input type="radio" id="disability_yes" name="disability_certificate" value="Yes" class="form-check-input" required>
                    <label for="disability_yes" class="form-check-label">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" id="disability_no" name="disability_certificate" value="No" class="form-check-input" required>
                    <label for="disability_no" class="form-check-label">No</label>
                </div>
            </div>

            <div class="col-md-6">
                <label class="form-label">Support from Govt/NGO:</label><br>
                <div class="form-check">
                    <input type="checkbox" name="support[]" value="Scholarship" class="form-check-input" id="scholarship">
                    <label for="scholarship" class="form-check-label">Scholarship</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" name="support[]" value="Pension" class="form-check-input" id="pension">
                    <label for="pension" class="form-check-label">Pension</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" name="support[]" value="Training" class="form-check-input" id="training">
                    <label for="training" class="form-check-label">Training</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" name="support[]" value="Loan" class="form-check-input" id="loan">
                    <label for="loan" class="form-check-label">Loan</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" name="support[]" value="Others" class="form-check-input" id="others">
                    <label for="others" class="form-check-label">Others</label>
                </div>
            </div>

            <div class="col-md-6">
                <label for="bpl" class="form-label">BPL:</label>
                <select id="bpl" name="bpl" class="form-select" required>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
            </div>

            <div class="col-md-6">
                <label for="parent_occupation" class="form-label">Occupation of Parent:</label>
                <input type="text" id="parent_occupation" name="parent_occupation" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label for="guardian_name" class="form-label">Name of Guardian:</label>
                <input type="text" id="guardian_name" name="guardian_name" class="form-control">
            </div>

            <div class="col-md-6">
                <label for="guardian_relation" class="form-label">Relationship with Guardian:</label>
                <input type="text" id="guardian_relation" name="guardian_relation" class="form-control">
            </div>

            <div class="col-md-6">
                <label for="health_insurance" class="form-label">Health Insurance for PwDs:</label>
                <select id="health_insurance" name="health_insurance" class="form-select" required>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
            </div>

            <div class="col-md-6">
                <label for="other_facilities" class="form-label">Other Facilities Required:</label>
                <textarea id="other_facilities" name="other_facilities" class="form-control"></textarea>
            </div>

            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

<?php
// Database connection
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "enrollment";

$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

// Get form data
$sl_no = $_POST['sl_no'];
$name = $_POST['name'];
$parent_name = $_POST['parent_name'];
$age = $_POST['age'];
$sex = $_POST['sex'];
$education = $_POST['education'];
$category = $_POST['category'];
$disabilities = implode(", ", $_POST['disabilities']);
$disability_certificate = $_POST['disability_certificate'];
$support = implode(", ", $_POST['support']);
$bpl = $_POST['bpl'];
$parent_occupation = $_POST['parent_occupation'];
$guardian_name = $_POST['guardian_name'];
$guardian_relation = $_POST['guardian_relation'];
$health_insurance = $_POST['health_insurance'];
$other_facilities = $_POST['other_facilities'];

// Insert data into database
$sql = "INSERT INTO enrollment_data (sl_no, name, parent_name, age, sex, education, category, disabilities, disability_certificate, support, bpl, parent_occupation, guardian_name, guardian_relation, health_insurance, other_facilities) 
VALUES ('$sl_no', '$name', '$parent_name', '$age', '$sex', '$education', '$category', '$disabilities', '$disability_certificate', '$support', '$bpl', '$parent_occupation', '$guardian_name', '$guardian_relation', '$health_insurance', '$other_facilities')";

if ($conn->query($sql) === TRUE) {
    echo "New record created successfully";
} else {
    echo "Error: " . $sql . "<br>" . $conn->error;
}

$conn->close();
?>

</html>
